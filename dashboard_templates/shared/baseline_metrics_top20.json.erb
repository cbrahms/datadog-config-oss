{
  "description": "created by crichardson@pivotal.io",
  "graphs": [
    {
      "definition": {
        "autoscale": true,
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [

            ],
            "q": "top20_max(max:bosh.healthmonitor.system.load.1m{!deployment:<%= elk_deployment %>,!deployment:<%= deployment %>-jarvice-v2,!job:cell_z1,!job:cell_z2,!job:cell_z3} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "status": "done",
        "viz": "timeseries"
      },
      "title": "system.load.1m"
    },
    {
      "definition": {
        "autoscale": true,
        "requests": [
          {
            "conditional_formats": [

            ],
            "q": "top20_max(max:bosh.healthmonitor.system.cpu.user{!deployment:<%= elk_deployment %>,!deployment:<%= deployment %>-jarvice-v2,!job:cell_z1,!job:cell_z2,!job:cell_z3} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "status": "done",
        "viz": "timeseries"
      },
      "title": "cpu.user"
    },
    {
      "definition": {
        "autoscale": true,
        "requests": [
          {
            "conditional_formats": [

            ],
            "q": "top20_max(max:bosh.healthmonitor.system.mem.percent{!deployment:<%= elk_deployment %>,!deployment:<%= deployment %>-jarvice-v2,!job:cell_z1,!job:cell_z2,!job:cell_z3} by {job,deployment,index})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "status": "done",
        "viz": "timeseries"
      },
      "title": "mem.percent"
    },
    {
      "definition": {
        "autoscale": true,
        "requests": [
          {
            "conditional_formats": [

            ],
            "q": "top20_max(max:bosh.healthmonitor.system.swap.kb{!deployment:<%= elk_deployment %>,!deployment:<%= deployment %>-jarvice-v2,!job:cell_z1,!job:cell_z2,!job:cell_z3} by {job,deployment,index,availability-zone,instance_id})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "status": "done",
        "viz": "timeseries"
      },
      "title": "swap.kb"
    },
    {
      "definition": {
        "autoscale": true,
        "requests": [
          {
            "conditional_formats": [

            ],
            "q": "top20_max(max:bosh.healthmonitor.system.swap.percent{!deployment:<%= elk_deployment %>,!deployment:<%= deployment %>-jarvice-v2,!job:cell_z1,!job:cell_z2,!job:cell_z3} by {job,deployment,index})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "status": "done",
        "viz": "timeseries"
      },
      "title": "swap.percent"
    },
    {
      "definition": {
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [

            ],
            "q": "top20_max( max:aws.ec2.disk_read_ops{*} by {job,index,deployment,availability-zone,instance_id} / dt(max:aws.ec2.disk_read_ops{*} by {job,index,deployment,availability-zone,instance_id}) )",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "ec2.ephemeral_disk.read_iops"
    },
    {
      "definition": {
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [

            ],
            "q": "top20_max( max:aws.ec2.network_in{*} by {job,deployment,index,availability-zone,instance_id} * 0.1333 )",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "ec2.network_in (bps)"
    },
    {
      "definition": {
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [

            ],
            "q": "top20_max( max:aws.ec2.network_out{*} by {job,deployment,index,availability-zone,instance_id} * 0.1333 )",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "ec2.network_out (bps)"
    },
    {
      "definition": {
        "requests": [
          {
            "conditional_formats": [

            ],
            "q": "top20_max( max:aws.ec2.disk_write_ops{*} by {job,index,deployment,availability-zone,instance_id}/dt(max:aws.ec2.disk_write_ops{*} by {job,index,deployment,availability-zone,instance_id}))",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "ec2.ephemeral_disk.write_iops"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:aws.ec2.disk_read_bytes{*} by {job,index,deployment,availability-zone,instance_id})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "ec2.disk_read_bytes"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:aws.ec2.disk_write_bytes{*} by {job,index,deployment,instance_id})",
            "style": {
              "palette": "dog_classic",
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "ec2.disk_write_bytes"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.cpu.sys{*} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "cpu.sys"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.cpu.wait{*} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "cpu.wait"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.disk.ephemeral.inode_percent{*} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "disk.ephemeral.inode_percent"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.disk.ephemeral.percent{*} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "disk.ephemeral.percent"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.disk.persistent.inode_percent{*} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "disk.persistent.inode_percent"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.disk.persistent.percent{*} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "disk.persistent.percent"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.disk.system.inode_percent{*} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "disk.system.inode_percent"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.disk.system.percent{*} by {job,index,deployment})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "disk.system.percent"
    },
    {
      "definition": {
        "requests": [
          {
            "q": "top20_max(max:bosh.healthmonitor.system.mem.kb{*} by {job,deployment,index})",
            "style": {
              "width": "thin"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "title": "mem.kb"
    }
  ],
  "read_only": false,
  "title": "Baseline Metrics Top 20"
}