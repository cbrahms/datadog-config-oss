{
  "board_bgtype": "board_graph",
  "board_title": "<%= environment_label %> Health",
  "created": "2016-03-29T20:52:05.758147+00:00",
  "disableCog": false,
  "disableEditing": false,
  "height": 109,
  "id": 72083,
  "isIntegration": false,
  "isShared": false,
  "modified": "2017-05-09T17:44:02.531721+00:00",
  "original_title": "<%= environment_label %> Health",
  "read_only": false,
  "template_variables": [
    {
      "name": "scope",
      "default": "deployment: <%= deployment %>",
      "prefix": "deployment"
    }
  ],
  "templated": true,
  "title_edited": false,
  "widgets": [
    {
      "auto_refresh": false,
      "bgcolor": "pink",
      "board_id": 72083,
      "font_size": "36",
      "height": 7,
      "html": "<%= environment_label %>",
      "refresh_every": 30000,
      "text_align": "center",
      "tick": true,
      "tick_edge": "bottom",
      "tick_pos": "50%",
      "title": true,
      "title_align": "left",
      "title_size": 16,
      "title_text": "",
      "type": "note",
      "width": 104,
      "x": 0,
      "y": 0
    },
    {
      "board_id": 72083,
      "height": 13,
      "margin": "",
      "sizing": "zoom",
      "title": true,
      "title_align": "left",
      "title_size": 16,
      "title_text": "",
      "type": "image",
      "url": "<%= health_screen_image %>",
      "width": 96,
      "x": 4,
      "y": 8
    },
    {
      "auto_refresh": false,
      "bgcolor": "blue",
      "board_id": 72083,
      "font_size": "36",
      "height": 7,
      "html": "CC Status",
      "refresh_every": 30000,
      "text_align": "center",
      "tick": true,
      "tick_edge": "bottom",
      "tick_pos": "50%",
      "title": true,
      "title_align": "left",
      "title_size": 16,
      "title_text": "",
      "type": "note",
      "width": 50,
      "x": 0,
      "y": 22
    },
    {
      "auto_refresh": false,
      "bgcolor": "yellow",
      "board_id": 72083,
      "font_size": "36",
      "height": 7,
      "html": "Diego Status",
      "refresh_every": 30000,
      "text_align": "center",
      "tick": true,
      "tick_edge": "bottom",
      "tick_pos": "50%",
      "title": true,
      "title_align": "left",
      "title_size": 16,
      "title_text": "",
      "type": "note",
      "width": 51,
      "x": 53,
      "y": 22
    },
    {
      "board_id": 72083,
      "height": 15,
      "legend": false,
      "legend_size": "0",
      "tile_def": {
        "autoscale": true,
        "font_size": 20,
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [],
            "q": "avg:datadog.nozzle.cc.http_status.3XX{$scope}",
            "style": {
              "palette": "dog_classic"
            },
            "type": "line"
          },
          {
            "q": "avg:datadog.nozzle.cc.http_status.4XX{$scope}",
            "style": {
              "palette": "orange"
            },
            "type": "line"
          },
          {
            "q": "avg:datadog.nozzle.cc.http_status.5XX{$scope}",
            "style": {
              "palette": "warm"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "timeframe": "1w",
      "title": true,
      "title_align": "left",
      "title_size": 13,
      "title_text": "Red: 5** Orange: 4** Blue: 3**",
      "type": "timeseries",
      "width": 50,
      "x": 0,
      "y": 29
    },
    {
      "board_id": 72083,
      "height": 15,
      "legend": false,
      "legend_size": "0",
      "tile_def": {
        "autoscale": true,
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [],
            "q": "avg:datadog.nozzle.cc.requests.outstanding{$scope}",
            "style": {
              "palette": "dog_classic"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "timeframe": "1w",
      "title": true,
      "title_align": "left",
      "title_size": 13,
      "title_text": "Outstanding Request Queue",
      "type": "timeseries",
      "width": 50,
      "x": 0,
      "y": 48
    },
    {
      "board_id": 72083,
      "height": 15,
      "legend": false,
      "legend_size": "0",
      "tile_def": {
        "autoscale": true,
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [],
            "q": "avg:<%= metric_prefix %>.cc.failed_job_count.total{$scope}",
            "style": {
              "palette": "warm"
            },
            "type": "line"
          },
          {
            "q": "avg:datadog.nozzle.cc.job_queue_length.total{$scope}",
            "style": {
              "palette": "cool",
              "width": "thick"
            },
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "timeframe": "1w",
      "title": true,
      "title_align": "left",
      "title_size": 13,
      "title_text": "Failed Jobs",
      "type": "timeseries",
      "width": 50,
      "x": 0,
      "y": 67
    },
    {
      "board_id": 72083,
      "height": 15,
      "legend": false,
      "legend_size": "0",
      "tile_def": {
        "autoscale": true,
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [],
            "q": "avg:datadog.nozzle.bbs.LRPsDesired{$scope}",
            "type": "line"
          },
          {
            "q": "avg:datadog.nozzle.bbs.LRPsStarting{$scope}",
            "type": "line"
          },
          {
            "q": "avg:datadog.nozzle.bbs.LRPsRunning{$scope}",
            "type": "line"
          },
          {
            "q": "avg:datadog.nozzle.bbs.CrashedActualLRPs{$scope}",
            "type": "line"
          },
          {
            "q": "avg:datadog.nozzle.bbs.CrashedActualLRPs{$scope} + avg:datadog.nozzle.bbs.LRPsStarting{$scope} + avg:datadog.nozzle.bbs.LRPsRunning{$scope}",
            "type": "line"
          },
          {
            "q": "avg:datadog.nozzle.bbs.CrashedActualLRPs{$scope} + avg:datadog.nozzle.bbs.LRPsStarting{$scope} + avg:datadog.nozzle.bbs.LRPsRunning{$scope}",
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "timeframe": "4h",
      "title": true,
      "title_align": "left",
      "title_size": 13,
      "title_text": "DIEGO Cell: LRPs",
      "type": "timeseries",
      "width": 51,
      "x": 53,
      "y": 29
    },
    {
      "board_id": 72083,
      "height": 15,
      "legend": false,
      "legend_size": "0",
      "tile_def": {
        "autoscale": true,
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [],
            "q": "( ( ( avg:datadog.nozzle.bbs.LRPsDesired{$scope} - avg:datadog.nozzle.bbs.LRPsRunning{$scope} ) - avg:datadog.nozzle.bbs.LRPsStarting{$scope} ) - avg:datadog.nozzle.bbs.CrashedActualLRPs{$scope} )",
            "type": "line"
          }
        ],
        "viz": "timeseries"
      },
      "timeframe": "4h",
      "title": true,
      "title_align": "left",
      "title_size": 13,
      "title_text": "DIEGO Cell: Missing LRPs",
      "type": "timeseries",
      "width": 51,
      "x": 53,
      "y": 48
    },
    {
      "board_id": 72083,
      "height": 15,
      "legend": false,
      "legend_size": "0",
      "tile_def": {
        "autoscale": true,
        "requests": [
          {
            "aggregator": "avg",
            "conditional_formats": [],
            "q": "min:datadog.nozzle.rep.CapacityRemainingMemory{$scope} by {ip}",
            "type": "area"
          }
        ],
        "viz": "timeseries"
      },
      "timeframe": "4h",
      "title": true,
      "title_align": "left",
      "title_size": 16,
      "title_text": "DIEGO Cell: Available Memory (MiB)",
      "type": "timeseries",
      "width": 51,
      "x": 53,
      "y": 67
    }
  ],
  "width": "100%"
}
